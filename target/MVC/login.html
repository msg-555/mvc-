<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登录</title>
    <script>
        window.onload = function () {
            document.querySelector("button").onclick = function () {
                // 获取用户名和密码
                let username = document.getElementById("username").value
                let password = document.getElementById("password").value
                let xhr = new XMLHttpRequest();
                xhr.onreadystatechange = function () {
                    if (xhr.readyState == 4) {
                        if (xhr.status == 200) {
                            // 服务器返回的JSON串
                            console.log("服务器返回的结果：", xhr.responseText);
                            // 把JSON串转换成JavaScript对象
                            let data = JSON.parse(xhr.responseText);
                            // 判断对象的code属性值（注意是数字200，不是字符串"200"）
                            if(data.code == 200){
                                // 解析数据，添加到ul中
                                localStorage.setItem("menus",xhr.responseText)
                                window.location.href="index.html";
                            }
                        }
                    }
                }
                xhr.open("POST", "login.do", true);
                xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                xhr.send(`username=${username}&password=${password}`)
            }
        }
    </script>
</head>
<body>
<!--
  <form action="login" method="POST">
    <label for="username">用户名：</label> <input type="text" name="username" id="username" value="zhangsan">
    <label for="password">密码：</label> <input type="text" name="password" id="password" value="zs1234">
    <input type="submit" value="登录">
  </form>
  -->
<label for="username">用户名：</label> <input type="text" name="username" id="username" value="zhangsan">
<label for="password">密码：</label> <input type="password" name="password" id="password" value="zs1234">
<button>登录</button>
</body>
</html>